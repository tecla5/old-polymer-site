<dom-module id="portfolio-inprogress">
  <style type="text/css">
    h1 {
        color: #78909c;
        font-size: 24px;
        font-weight: 300;
        margin-top: 8px;
        margin-bottom: 8px;
        margin-left: 8px;
    }

    /*
    paper-card /deep/ img {
      height: 143px;
    }
    */
    @media (max-width: 601px) {
      paper-card {
        width: 100% !important;
        margin-left: 0px;
        margin-right: 0px;
      }

      #androidify {
        height: 64%;
      }
    }
  </style>

  <template>

    <h1>Projects</h1>
    <h2>In progress</h2>
    <iron-ajax
      id="myproducts"
      auto
      url="/data/EN/products.json"
      handle-as="json"
      on-response="handleResponse"
      last-response="{{products}}"
      last-error="{{lastError}}">
    </iron-ajax>
    <template is="dom-repeat" items="{{products}}" as="product"  >
      <paper-card
        id="{{index}}"
        image="{{product.image}}"
        elevation="1"
        animatedShadow="true"
        >
        <div class="card-content">
          <p>{{product.description}}</p>
        </div>
         <div class="card-actions">
           <a href="{{product.code}}" target="_blank">
             <paper-fab icon="cloud-download" ></paper-fab>
           </a>
         </div>
      </paper-card>
    </template>
  </template>
</dom-module>

<script type="text/javascript">
  Polymer({
    is: 'portfolio-inprogress',

    behaviors: [
      Polymer.NeonAnimationRunnerBehavior,
      Polymer.NeonSharedElementAnimatableBehavior
    ],

    properties: {
      // START ANIMATIONS
      animationConfig: {
        value(){
          return {
            'entry': [{
              name: 'fade-in-animation',
              node: this
            },{
              name: 'transform-animation',
              transformFrom: 'translateX(-100vh)',
              node: this
            }],
            'exit': [{
              name: 'hero-animation',
              id: 'hero',
              fromPage: this
            },{
              name: 'fade-out-animation',
              node: this
            }]
          };
        }
      }
      // END ANIMATIONS
    },
    ready(){
      this.$.myproducts.generateRequest();
    },

    handleResponse() {
      //console.log(`handleResponse ${e.detail.response}`);
      //console.log(this.$.myproducts.lastResponse);

    }

  });
</script>
